// Generated by CoffeeScript 1.6.3
(function($) {
  var $document, $seedlingToolbar, $seeds;
  $document = $(document);
  $seedlingToolbar = $("#seedling_toolbar");
  $seeds = $("#seeds");
  $seedlingToolbar.on("change", "select", function(e) {
    $seeds.load(window.location.pathname + " #seeds", $seedlingToolbar.serialize());
  });
  $document.on("cbox_complete", function() {
    var $colorbox, $image, $inner, $lis, $list, currPage, len;
    $colorbox = $("#colorbox");
    currPage = 0;
    len = 0;
    $list = $("#seed_window_imagelist");
    $inner = $list.children();
    $lis = $inner.children();
    $image = $("#seed_window_image");
    /*$image.parent().data "group", Array::join.call ($lis.map ->
    			($ @).children().attr "href"
    		), ","
    */

    $inner.css({
      width: $lis.outerWidth() * $lis.length
    });
    $colorbox.on("click.seedwindow", "#seed_window_imagelist a", function(e) {
      var $a, $li, href;
      $a = $(e.currentTarget);
      $li = $a.parent();
      href = $a.attr("href");
      $image.attr("src", href);
      ($li.siblings(".on")).removeClass("on");
      $li.addClass("on");
      e.preventDefault();
    });
    return ($list.find("a:first")).trigger("click");
  }).on("cbox_closed", function(e) {
    ($("#colorbox")).off(".seedwindow");
  });
})($);
